<!DOCTYPE html><html lang="nl"><head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="text/html; charset=utf-8" http-equiv="content-type">
<meta name="generator" content="ReSpec 35.1.1">
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font-family:"Helvetica Neue",sans-serif;font-size:small;background:#fff;background:var(--indextable-hover-bg,#fff);color:#000;color:var(--text,#000);box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);box-shadow:0 1em 3em -.4em var(--tocsidebar-shadow,rgba(0,0,0,.3)),0 0 1px 1px var(--tocsidebar-shadow,rgba(0,0,0,.05));border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;border-bottom-color:var(--indextable-hover-bg,#fff);top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1;border-bottom-color:var(--indextable-hover-bg,#a2a9b1)}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;color:var(--text,#000);margin-top:.25em}
.dfn-panel ul a[href]{color:#333;color:var(--text,#333)}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
  
  
  
  
  
  
  
<script>document.title = respecConfig.title</script>
<title>DDAS API Koppelvlakspecificatie</title>
  
<title>Default</title>
  
<link rel="shortcut icon" type="image/x-icon" href="https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/media/logo-VNG-Realisatie.ico">
  
  
  
<style>

	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: none !important; 
	}
  
</style>

<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
.self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
aside.example .marker>a.self-link{color:inherit}
.header-wrapper{display:flex;align-items:baseline;position:relative;left:-.5em}
:is(h2,h3,h4,h5,h6):not(#toch2)+a.self-link{color:inherit;order:-1;position:relative;left:-.7em;font-size:1rem;opacity:.5}
:is(h2,h3,h4,h5,h6)+a.self-link::before{content:"§";text-decoration:none;color:var(--heading-text)}
:is(h2,h3)+a.self-link{top:-.2em}
:is(h4,h5,h6)+a.self-link::before{color:#000}
@media (max-width:767px){
dd{margin-left:0}
}
@media print{
.removeOnSave{display:none}
}
</style>
<style id="respec-nlgov">
img.license{float:left;padding-right:5px}
</style>
<style>
ul.index{columns:30ch;column-gap:1.5em}
ul.index li{list-style:inherit}
ul.index li span{color:inherit;cursor:pointer;white-space:normal}
#index-defined-here ul.index li{font-size:.9rem}
ul.index code{color:inherit}
#index-defined-here .print-only{display:none}
@media print{
#index-defined-here .print-only{display:initial}
}
</style>
<meta name="description" content="Dit document bevat een uitleg van de toepassing van Respec documentatie binnen VNG Realisatie.">
<style>
.hljs{--base:#fafafa;--mono-1:#383a42;--mono-2:#686b77;--mono-3:#717277;--hue-1:#0b76c5;--hue-2:#336ae3;--hue-3:#a626a4;--hue-4:#42803c;--hue-5:#ca4706;--hue-5-2:#c91243;--hue-6:#986801;--hue-6-2:#9a6a01}
@media (prefers-color-scheme:dark){
.hljs{--base:#282c34;--mono-1:#abb2bf;--mono-2:#818896;--mono-3:#5c6370;--hue-1:#56b6c2;--hue-2:#61aeee;--hue-3:#c678dd;--hue-4:#98c379;--hue-5:#e06c75;--hue-5-2:#be5046;--hue-6:#d19a66;--hue-6-2:#e6c07b}
}
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;color:var(--mono-1,#383a42);background:#fafafa;background:var(--base,#fafafa)}
.hljs-comment,.hljs-quote{color:#717277;color:var(--mono-3,#717277);font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4;color:var(--hue-3,#a626a4)}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;color:var(--hue-5,#ca4706);font-weight:700}
.hljs-literal{color:#0b76c5;color:var(--hue-1,#0b76c5)}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c;color:var(--hue-4,#42803c)}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01;color:var(--hue-6-2,#9a6a01)}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801;color:var(--hue-6,#986801)}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3;color:var(--hue-2,#336ae3)}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>

  .sidelabel {
    position: fixed;
    -webkit-transform-origin: top right;
    right: 100%;
    top: 0;
    -webkit-transform: rotate(-90deg);
    padding: 4px 50px 4px 10px;
    color: white;
    white-space: nowrap;
    z-index: 1;
    background-color: Black;
  }
</style>
<script type="text/javascript">
   /* Any custom mermaid.js scripts will go here. */
  </script>
<style>

  /* Any custom mermaid.js scripts will go here. */
  }
</style>
<script id="initialUserConfig" type="application/json">{
  "nl_organisationName": "VNG Realisatie",
  "nl_organisationStylesURL": "https://gitdocumentatie.logius.nl/publicatie/respec/style/",
  "nl_organisationPublishURL": "https://vng-realisatie.github.io/publicatie",
  "logos": [
    {
      "src": "https://vng-realisatie.github.io/VNG-R-Respec-Organization-configurations/media/logo-VNG-Realisatie.jpg",
      "alt": "VNG-Realisatie",
      "id": "VNG-Realisatie",
      "height": 77,
      "url": "https://www.vng.nl"
    }
  ],
  "postProcess": [
    null
  ],
  "pubDomain": "hl",
  "latestVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "shortName"
  ],
  "thisVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "shortName",
    "/",
    "publishVersion"
  ],
  "prevVersion": [
    "nl_organisationPublishURL",
    "pubDomain",
    "/",
    "shortName",
    "/",
    "previousPublishVersion"
  ],
  "useLogo": true,
  "useLabel": true,
  "license": "eupl",
  "addSectionLinks": true,
  "localizationStrings": {
    "nl": {
      "cv": "Consultatieversie",
      "vv": "Versie ter vaststelling",
      "ig": "In Gebruik versie",
      "io": "In Ontwikkeling versie",
      "im": "Informatiemodel",
      "hl": "Handleiding",
      "st": "Standaard"
    }
  },
  "sotdText": {
    "nl": {
      "sotd": "Status van dit document",
      "cv": "Dit is een door het TO goedgekeurde consultatieversie. Commentaar over dit document kan gestuurd worden naar ",
      "vv": "Dit is een definitief concept van de nieuwe versie van dit document. Wijzigingen naar aanleiding van consultaties zijn doorgevoerd.",
      "ig": "Dit document is 'In Gebruik'.",
      "io": "Dit document is nog 'In Ontwikkeling'."
    }
  },
  "labelColor": {
    "ig": "#A569BD",
    "io": "#DC7633"
  },
  "licenses": {
    "cc0": {
      "name": "Creative Commons 0 Public Domain Dedication",
      "short": "CC0",
      "url": "https://creativecommons.org/publicdomain/zero/1.0/",
      "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-zero.svg"
    },
    "cc-by": {
      "name": "Creative Commons Attribution 4.0 International Public License",
      "short": "CC-BY",
      "url": "https://creativecommons.org/licenses/by/4.0/legalcode",
      "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-by.svg"
    },
    "cc-by-nd": {
      "name": "Creative Commons Naamsvermelding-GeenAfgeleideWerken 4.0 Internationaal",
      "short": "CC-BY-ND",
      "url": "https://creativecommons.org/licenses/by-nd/4.0/legalcode.nl",
      "image": "https://gitdocumentatie.logius.nl/publicatie/respec/media/logos/cc-by-nd.svg"
    },
    "eupl": {
      "name": "EUROPEAN UNION PUBLIC LICENCE v. 1.2",
      "short": "EUPL",
      "url": "https://eupl.eu/",
      "image": "https://eupl.eu/eu.png"
    }
  },
  "localBiblio": {
    "MIM": {
      "href": "https://docs.geostandaarden.nl/mim/mim/",
      "publisher": "Geonovum",
      "title": "MIM - Metamodel Informatie Modellering",
      "date": "Oktober 2023",
      "rawDate": "2023"
    },
    "SemVer": {
      "href": "https://semver.org/lang/nl/",
      "title": "Semantisch Versioneren 2.0.0",
      "date": "December 19, 2023",
      "rawDate": "2023"
    }
  },
  "shortName": "Respec-template",
  "specType": "HL",
  "specStatus": "WV",
  "publishDate": "2024-07-2",
  "publishVersion": "0.0.1",
  "title": "DDAS API Koppelvlakspecificatie",
  "subtitle": "Koppelvlakspecificatie voor het aanleveren van DDAS-gegevens aan het CBS",
  "editors": [
    {
      "name": "Govert Claus",
      "company": "VNG Realisatie",
      "companyURL": "https://vng.nl/artikelen/vng-realisatie"
    }
  ],
  "github": "https://github.com/Govert-Claus/DDAS-API",
  "alternateFormats": [
    {
      "label": "pdf",
      "uri": "DDAS-API-Koppelvlakspecificatie.pdf"
    }
  ]
}</script>
<link rel="stylesheet" href="https://gitdocumentatie.logius.nl/publicatie/respec/style/base.css"></head>

<body class="toc-inline"><h1 id="title" class="title">DDAS API Koppelvlakspecificatie</h1>
  <section id="abstract" class="introductory"><h2>Samenvatting</h2><p>Dit document bevat een uitleg van de toepassing van Respec documentatie binnen VNG Realisatie. </p>
<ul>
<li>In hoofdstuk 1 wordt de werking van het template uitgelegd. Hoe je het kunt gebruiken voor je eigen specificatie, wat er precies gebeurd als je er mee aan de gang gaat en waar je daarbij op moet letten.</li>
<li>Hoofdstuk 2 beschrijft hoe je binnen Imvertor (indien toegepast) een deel van de content van je specificatie kan genereren. Dit hoofdstuk is optioneel aangezien je Respec document niet per definitie betrekking hoeft te hebben op een Informatiemodel.</li>
<li>Hoofdstuk 3 beschrijft waar je op moet letten als je het GitHub Respec template kopieert (zowel als admin als als gebruiker), hoe je de Respec documentatie, evt. naast de door Imvertor gegenereerde content, nog kan voorzien van andere content en hoe je door het aanpassen van configuration properties de stijl van het document kan veranderen daarbij rekening houdend met wat wij binnen VNG Realisatie met elkaar hebben afgesproken. In de flowchart van hoofdstuk 5 wordt dit hoofdstuk met de 'Generatie tak' geïllustreerd.</li>
<li>Hoe de gegenereerde Respec bestanden gepubliceerd kunnen worden wordt in Hoofdstuk 4 beschreven. In de flowchart van hoofdstuk 5 wordt dit hoofdstuk met de 'Publicatie tak' geïllustreerd.</li>
<li>In hoofdstuk 5 is een flowchart van het gehele proces voor het vervaardigen van Respec documentatie uitgewerkt. Dit is echter tevens een voorbeeld van het gebruik van Mermaid, een manier om flowcharts te vervaardigen.</li>
<li>De hoofdstukken volgend op hoofdstuk 5 hebben slechts een illustratieve functie. Op basis daarvan moet je, samen met de uitleg in hoofdstuk 3, in staat zijn de getoonde functionaliteit te gebruiken.</li>
</ul>
</section>
  <section id="sotd"></section><nav id="toc"><h2 class="introductory" id="inhoudsopgave">Inhoudsopgave</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Samenvatting</a></li><li class="tocline"><a class="tocxref" href="#rm"><bdi class="secno">1. </bdi>ReSpec template instructies</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#vereiste-voor-gebruik"><bdi class="secno">1.1 </bdi>Vereiste voor gebruik</a></li><li class="tocline"><a class="tocxref" href="#gebruikersinstructie"><bdi class="secno">1.2 </bdi>Gebruikersinstructie</a></li><li class="tocline"><a class="tocxref" href="#rendering-automatische-controles-en-publicatie"><bdi class="secno">1.3 </bdi>Rendering, automatische controles en publicatie</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#rendering"><bdi class="secno">1.3.1 </bdi>Rendering</a></li><li class="tocline"><a class="tocxref" href="#checken"><bdi class="secno">1.3.2 </bdi>Checken</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#kaders"><bdi class="secno">2. </bdi>Uitgangpunten</a></li><li class="tocline"><a class="tocxref" href="#beheer"><bdi class="secno">3. </bdi>Beheer van de specificatie</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#indienen-wijzigingsverzoek"><bdi class="secno">3.1 </bdi>Indienen wijzigingsverzoek</a></li><li class="tocline"><a class="tocxref" href="#afhandelen-wijzigingsverzoek"><bdi class="secno">3.2 </bdi>Afhandelen wijzigingsverzoek</a></li><li class="tocline"><a class="tocxref" href="#releaseproces"><bdi class="secno">3.3 </bdi>Releaseproces</a></li><li class="tocline"><a class="tocxref" href="#releasenummering"><bdi class="secno">3.4 </bdi>Releasenummering</a></li><li class="tocline"><a class="tocxref" href="#vrijgaveprocedure-en-afwijkingsverzoeken"><bdi class="secno">3.5 </bdi>Vrijgaveprocedure en afwijkingsverzoeken</a></li><li class="tocline"><a class="tocxref" href="#noodprocedure"><bdi class="secno">3.6 </bdi>Noodprocedure</a></li><li class="tocline"><a class="tocxref" href="#escalatie"><bdi class="secno">3.7 </bdi>Escalatie</a></li></ol></li><li class="tocline"><a class="tocxref" href="#tech"><bdi class="secno">4. </bdi>Transportlaag</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#identificatie-authenticatie-en-autorisatie"><bdi class="secno">4.1 </bdi>Identificatie, Authenticatie en Autorisatie</a></li><li class="tocline"><a class="tocxref" href="#signing-en-versleuteling"><bdi class="secno">4.2 </bdi>Signing en Versleuteling</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#signing"><bdi class="secno">4.2.1 </bdi>Signing</a></li><li class="tocline"><a class="tocxref" href="#versleuteling-encryptie"><bdi class="secno">4.2.2 </bdi>Versleuteling (Encryptie)</a></li></ol></li><li class="tocline"><a class="tocxref" href="#vraagbericht-request"><bdi class="secno">4.3 </bdi>Vraagbericht (request)</a></li><li class="tocline"><a class="tocxref" href="#antwoordbericht-response"><bdi class="secno">4.4 </bdi>Antwoordbericht (response)</a></li><li class="tocline"><a class="tocxref" href="#niet-functionele-eisen"><bdi class="secno">4.5 </bdi>Niet functionele eisen</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#beschikbaarheid"><bdi class="secno">4.5.1 </bdi>Beschikbaarheid</a></li><li class="tocline"><a class="tocxref" href="#performance"><bdi class="secno">4.5.2 </bdi>Performance</a></li><li class="tocline"><a class="tocxref" href="#monitoring"><bdi class="secno">4.5.3 </bdi>Monitoring</a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#non-func"><bdi class="secno">5. </bdi>Niet functionele eisen</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#beschikbaarheid-0"><bdi class="secno">5.1 </bdi>Beschikbaarheid</a></li><li class="tocline"><a class="tocxref" href="#performance-0"><bdi class="secno">5.2 </bdi>Performance</a></li><li class="tocline"><a class="tocxref" href="#monitoring-0"><bdi class="secno">5.3 </bdi>Monitoring</a></li></ol></li><li class="tocline"><a class="tocxref" href="#aanlever"><bdi class="secno">6. </bdi>Aanleverprotocol</a></li><li class="tocline"><a class="tocxref" href="#aansluit"><bdi class="secno">7. </bdi>Aansluitprotocol</a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">8. </bdi>Conformiteit</a></li><li class="tocline"><a class="tocxref" href="#index"><bdi class="secno">A. </bdi>Index</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#index-defined-here"><bdi class="secno">A.1 </bdi>Begrippen gedefinieerd door deze specificatie</a></li><li class="tocline"><a class="tocxref" href="#index-defined-elsewhere"><bdi class="secno">A.2 </bdi>Begrippen gedefinieerd door verwijzing</a></li></ol></li></ol></nav>
  <section id="rm"><div class="header-wrapper"><h2 id="x1-respec-template-instructies"><bdi class="secno">1. </bdi>ReSpec template instructies</h2><a class="self-link" href="#rm" aria-label="Permalink for Section 1."></a></div>
<p>ReSpec is een tool om html en pdf documenten te genereren op basis van markdown en html content.</p>
<p>Organisatie administrators dienen de knop <a href="https://github.com/vng-realisatie/VNG-R-Respec-Template/generate"><em>Use this template</em></a> te gebruiken om een kopie van de template repository aan te maken. Deze kan daarna door jouzelf aangepast en uitgebreid worden.
Dit template is afgeleid van het <a href="https://github.com/Logius-standaarden/respec-template">Logius Respec template</a> maar is op enkele details aangepast:</p>
<ul>
<li>Het organisation configuration bestand is in een <a href="https://github.com/VNG-Realisatie/VNG-R-Respec-Organization-configurations">aparte repository</a> ondergebracht;</li>
<li>Het lokale configuratie bestand is aangepast aan de behoeftes van VNG Realisatie;</li>
<li>In de 'index.html' is een style element aangebracht waarmee de standaard instelling van de 'max-width' property op 'none' is gesteld;</li>
<li>De uitleg van de toepassing van het VNG-R Respec profiel is als inhoud aan deze repository toegevoegd.</li>
</ul>
<p>De dynamische pagina van het template document is <a href="https://vng-realisatie.github.io/VNG-R-Respec-Template/">hier</a> te zien.</p>
<p>Deze repository bevat ook de GitHub Workflows om een statische HTML-pagina en PDF-document te genereren en enkele controles uit te voeren. Deze workflows worden 
automatisch gerund zodra er een aanpassing gedaan wordt aan de main branch.  Een beschrijving van deze acties vind je onderaan dit hoofdstuk.</p>
<section id="vereiste-voor-gebruik"><div class="header-wrapper"><h3 id="x1-1-vereiste-voor-gebruik"><bdi class="secno">1.1 </bdi>Vereiste voor gebruik</h3><a class="self-link" href="#vereiste-voor-gebruik" aria-label="Permalink for Section 1.1"></a></div>
<ul>
<li>Kennis van git/GitHub</li>
<li>Kennis van Markdown en/of HTML</li>
<li>Een webserver om de documentatie te hosten</li>
</ul>
<p>Voor de laatste gebruiken wij GitHub. Kennis van de vorm van een Javascript object is handig om de in dit template voorkomende scripts aan te kunnen passen maar zonder die kennis kom je m.b.v. deze documentatie ook al heel ver.</p>
</section><section id="gebruikersinstructie"><div class="header-wrapper"><h3 id="x1-2-gebruikersinstructie"><bdi class="secno">1.2 </bdi>Gebruikersinstructie</h3><a class="self-link" href="#gebruikersinstructie" aria-label="Permalink for Section 1.2"></a></div>
<p>Om het gebruik van dit template makkelijker te maken raden we het aan om een IDE te gebruiken. Die geeft een voorbeeld van hoe de markdown eruit zal zien, kan laten zien of de config files nog in de correcte vorm zijn en kan helpen in het gebruik van git.<br>Een gratis voorbeeld van een IDE is: <a href="https://code.visualstudio.com/">Visual studio code</a>. Een combinatie van GitHub desktop en je eigen favoriete Markdown editor is echter ook mogelijk.</p>
<p>Aanpassingen maken aan het document gaat op 2 manieren:</p>
<ul>
<li>De configuratie van het document aanpassing in de config files</li>
<li>Markdown of html files toevoegen/veranderen</li>
</ul>
<p>De <strong>configuratie files</strong> bevatten informatie over de organisatie en over 
de status van het document. Helemaal onderaan hoofdstuk 3 vind je meer informatie over de configuratie opties, daarnaast kun je ook de <a href="https://github.com/Logius-standaarden/respec/wiki">Logius ReSpec wiki</a> 
bezoeken. De files zijn gesplitst in 2 files die weer in 2 verschillende repositories zijn ondergebracht:
<a href="https://github.com/vng-realisatie/Respec-Organization-configurations/blob/main/js/organisation-config.js">organisation-config.js</a> en <a href="js/config.js">config.js</a>.</p>
<p>De organisation_config (organisation-config.js) bevat configuratie properties die betrekking hebben op alle VNG-R Respec documentatie, de properties in deze file 
zullen zelden veranderen zoals bijv. de naam van de organisatie. </p>
<p>De document_config (config.js) bevat configuratie properties die alleen relevant is voor het betreffende Respec document en hoort dan ook in elke Respec renderende repository thuis.</p>
<p>Beide configuratie bestanden worden gelinkt in de <code>index.html</code> file waardoor ze beide bij het renderen van de Respec documentatie automatisch worden samengevoegd. Daardoor zijn de organisatie specifieke configuraties over alle Respec documentatie van VNG-R gelijk en
hoeft deze niet steeds gekopieerd te worden. Op deze wijze zorgen we er voor dat alle VNG-R Respec documenten zo eenduidig mogelijk zijn en blijven. </p>
<p>In <a href="https://vng-realisatie.github.io/VNG-R-Respec-Template/#wow">het volgende hoofdstuk</a> staat beschreven hoe je de inhoud van het Respec document naar wens kunt aanpassen.</p>
</section><section id="rendering-automatische-controles-en-publicatie"><div class="header-wrapper"><h3 id="x1-3-rendering-automatische-controles-en-publicatie"><bdi class="secno">1.3 </bdi>Rendering, automatische controles en publicatie</h3><a class="self-link" href="#rendering-automatische-controles-en-publicatie" aria-label="Permalink for Section 1.3"></a></div>
<p>Het bestand '.github/workflows/build.yml' bevat een action script waarmee automatisch een drietal acties worden uitgevoerd nadat een bestand in de repository wordt gewijzigd, toegevoegd of verwijderd:</p>
<ul>
<li>het renderen van het Respec document;</li>
<li>het checken of de gerenderde Respec html wel correct is en voldoet aan de toegankelijkheidseisen;</li>
<li>het publiceren van de gegenereerde statische html en pdf naar een centrale Respec publicatie repository.</li>
</ul>
<p>We beschrijven de eerste 2 acties in het kort hieronder. Aangezien we de laatste actie nog niet werkende hebben wordt deze voorlopig nog handmatig uitgevoerd, dat beschrijven we in hoofdstuk 4. 
De log van deze acties is te vinden in het tabblad <code>Actions</code> in de GitHub repository.</p>
<section id="rendering"><div class="header-wrapper"><h4 id="x1-3-1-rendering"><bdi class="secno">1.3.1 </bdi>Rendering</h4><a class="self-link" href="#rendering" aria-label="Permalink for Section 1.3.1"></a></div>
<p>Deze actie start het renderen van de Respec html. Vervolgens wordt er op basis daarvan een statische html en een pdf bestand gegenereerd. Die gebruiken we uiteindelijk om te publiceren.</p>
<p>De PDF-versie wordt aangemaakt omdat de property <code>alternateFormats</code> in de organisation_config als volgt geconfigureerd staat:</p>
<pre><code class="js hljs" aria-busy="false">alternateFormats: [
  {
      <span class="hljs-attr">label</span>: <span class="hljs-string">"pdf"</span>,
      <span class="hljs-attr">uri</span>: <span class="hljs-string">"snapshot.pdf"</span>,
  },
]
</code></pre>
<p>Er moet nog worden bepaald of we de document eigenaar zelf willen laten bepalen of hij/zij een pdf wil genereren. Indien we dat willen verhuisd deze property naar de document_config. De waarde van de property <code>uri</code> kan dan naar wens worden aangepast.</p>
</section><section id="checken"><div class="header-wrapper"><h4 id="x1-3-2-checken"><bdi class="secno">1.3.2 </bdi>Checken</h4><a class="self-link" href="#checken" aria-label="Permalink for Section 1.3.2"></a></div>
<p>Na het renderen van de Respec html en pdf worden er via github actions 2 controles uitgevoerd op de html:  </p>
<ul>
<li><p>een WCAG-check (Web Content Accessibility Guidelines), deze guidelines gemaakt door W3C zorgen voor een verbetering van de toegankelijkheid van webapplicaties verbeterd voor zowel verschillende apparaten  als voor mensen met een beperking. Ook wordt de validiteit van het HTML bestand gecheckt, bijv.:</p>
<ul>
<li>of er geen <code>&lt;section&gt;</code> elementen met 'id' attributen voorkomen die al voorkomen in het bestand;</li>
<li>of er geen <code>&lt;a&gt;</code> elementen voorkomen met 'href' attributen die verwijzen naar <code>&lt;section&gt;</code> elementen die helemaal niet bestaan.</li>
</ul>
<p>Deze check moet eerst succesvol uitgevoerd zijn voordat wordt begonnen aan de volgende check. In de 'Action' die start met het woord 'Update' (zie het <code>Actions</code> tabblad) kun je in de actie 'Check/WCAG' de step 'Run pa11y snapshot.html' vinden. Daar kun je zien welke fouten geconstateerd zijn.</p>
</li>
<li><p>een link-check, deze check controleert of alle links die in het document staan ook bestaan. Het gaat dan bijv. om de links die worden vermeldt in:</p>
<ul>
<li>'Deze versie'</li>
<li>'Laatst gepubliceerde versie'</li>
<li>'Laatste werkversie'</li>
<li>'Vorige versie'</li>
</ul>
<p>Deze links verwijzen naar specifieke locaties in de GitHub Pages interface van de 'publicatie' GitHub repository (zie de volgende subparagraaf voor meer uitleg). Om deze check goed te kunnen doorstaan moeten deze locaties dus al bestaan in die interface. Indien dat nog niet gedaan is moet daar de folder voor het nieuwe versienummer van de Respec documentatie al worden aangemaakt. Plaats in die folder dan ook een tijdelijk 'index.html' bestand. De inhoud van dat bestand is (nog) niet van belang.</p>
</li>
</ul>
<blockquote>
<p><strong>LET OP!</strong><br>
Onderstaand tekst is slechts een voorstel.
De definitieve url kan indien gewenst nog andere onderdelen bevatten zoals bijv. <code>publishDate</code>, <code>previousPublishDate</code>, <code>specStatus</code> en <code>previousMaturity</code>.</p>
</blockquote>
<p>Bij het genereren van de links zijn op dit moment de volgende configuration properties van belang:</p>
<ul>
<li>nl_organisationPublishURL<br>
De basis url van de GitHub Pages interface van de 'publicatie' GitHub repository, op dit moment: <code>https://vng-realisatie.github.io/publicatie</code>. Deze is gedefinieerd in de organisation_config aangezien deze altijd gelijk blijft.</li>
<li>pubDomain<br>
Het publicatie domein. Aangezien we vooralsnog slechts voor Conceptuele Modellen Respec documentatie genereren heeft deze de waarde <code>cim</code> en staat deze gedefinieerd in de organisation_config. Zo nodig kan deze overruled worden in de document_config. Vergeet in dat geval niet om ook de structuur in de 'publicatie' GitHub repository uit te breiden.  Wordt gebruikt in 'latestVersion', 'thisVersion' en 'prevVersion'.</li>
<li>specStatus</li>
<li>latestVersion<br>
Wordt opgebouwd a.d.h.v. een aantal andere configuratie properties uit zowel de organisation_config als de document_config en enkele vaste karakters. Deze is gedefinieerd in de organisation_config aangezien deze altijd gelijk blijft.</li>
<li>thisVersion<br>
Wordt opgebouwd a.d.h.v. een aantal andere configuratie properties uit zowel de organisation_config als de document_config en enkele vaste karakters. Deze is gedefinieerd in de organisation_config aangezien deze altijd gelijk blijft.</li>
<li>prevVersion<br>
Wordt opgebouwd a.d.h.v. een aantal andere configuratie properties uit zowel de organisation_config als de document_config en enkele vaste karakters. Deze is gedefinieerd in de organisation_config aangezien deze altijd gelijk blijft.</li>
<li>shortName<br>
De project-mnemonic, een afkorting van het project. Zo wordt het project 'Open Raadsinformatie' wordt bijv. afgekort als 'ori'. Deze is gedefinieerd in de document_config aangezien deze natuurlijk afhankelijk is van het te genereren Respec document. Wordt gebruikt in 'latestVersion', 'thisVersion' en 'prevVersion'.</li>
<li>publishVersion<br>
De versie van het te publiceren Respec document. Komt overeen met de Tagged Value 'Version' in het Enterprise Architect bestand van het model en heeft een waarde dat voldoet aan het formaat <code>x.x.x</code>, bijv. <code>2.0.0</code>. Deze is gedefinieerd in de document_config aangezien deze natuurlijk afhankelijk is van het te genereren Respec document. Wordt gebruikt in de titel van het Respec document maar ook in 'thisVersion'.</li>
<li>previousVersion<br>
De voorgaande versie van het te publiceren Respec document. Komt overeen met de Tagged Value 'Version' in het Enterprise Architect bestand van het voorgaande versie van het model en heeft een waarde dat voldoet aan het formaat <code>x.x.x</code>, bijv. <code>2.0.0</code>. Deze is gedefinieerd in de document_config aangezien deze natuurlijk afhankelijk is van het te genereren Respec document. Wordt gebruikt in 'prevVersion'.</li>
</ul>
<p>Het consistent en nauwgezet invullen van de configuratie properties in de document_config is essentieel voor een goede werking van de links.</p>
<p>De bovenstaande properties hebben invloed op de wijze waarop het eerste deel van de Respec documentatie wordt gegenereerd. Hieronder sommen we de regels op. Indien wordt besloten de properties 'latestVersion', 'thisVersion' en 'prevVersion' een andere inhoud te geven dan zullen onderstaande regels herzien moeten worden.</p>
<ul>
<li>Als de parameter 'specStatus' de waarde 'WV' heeft dan wordt de waarde van de parameter 'thisVersion' niet gebruikt voor het bepalen van 'Deze versie' maar wordt daar dezelfde waarde neergezet als bij 'Laatste werkversie'.</li>
<li>Als de parameter 'specStatus' de waarde 'WV' heeft dan wordt de waarde van 'Subtitel 2' niet gebaseerd op de parameter 'publishDate' maar op de datum waarop de Respec documentatie door GitHub wordt gegenereerd.</li>
<li>Als de parameter 'specStatus' de waarde 'WV' heeft dan wordt het versienummer niet in de titel van het document opgenomen.</li>
<li>Als de parameter 'previousPublishVersion' niet bestaat dan kan 'prevVersion' niet bepaald worden en wordt 'Vorige versie' niet gegenereerd.</li>
<li>Als de parameter 'publishVersion' niet bestaat dan kan 'thisVersion' niet bepaald worden en wordt 'Deze versie' niet gegenereerd.</li>
</ul>
</section></section></section>
  <section id="kaders"><div class="header-wrapper"><h2 id="x2-uitgangpunten"><bdi class="secno">2. </bdi>Uitgangpunten</h2><a class="self-link" href="#kaders" aria-label="Permalink for Section 2."></a></div>
<p>Het koppelvlak moet voldoen aan de volgende wetten, afspraken en standaarden:&nbsp;</p>
<ul>
<li><p><a href="https://www.noraonline.nl/wiki/NORA_online">NORA</a>&nbsp;</p>
</li>
<li><p><a href="https://www.bio-overheid.nl/media/13kduqsi/bio-versie-104zv_def.pdf">BIO</a></p>
</li>
<li><p><a href="https://logius-standaarden.github.io/Digikoppeling-Koppelvlakstandaard-REST-API/">Digikoppeling – REST-API profiel</a>&nbsp;</p>
</li>
<li><p><a href="https://docs.geostandaarden.nl/api/API-Strategie/">Nederlandse API strategie</a>&nbsp;</p>
</li>
<li><p><a href="https://logius-standaarden.github.io/API-Design-Rules/">NL Gov REST-API Design Rules</a>&nbsp;</p>
</li>
<li><p><a href="https://eur-lex.europa.eu/legal-content/NL/TXT/?uri=celex%3A32016R0679">Algemene verordening gegevensbescherming</a>&nbsp;</p>
</li>
<li><p><a href="https://wetten.overheid.nl/BWBR0015926/2022-03-02">Wet op het Centraal Bureau voor de Statistiek</a>&nbsp;</p>
</li>
<li><p><a href="https://docs.fsc.nlx.io/introduction">FSC</a></p>
</li>
</ul>
<p>&nbsp;</p>
<p>De volgende keuzes zijn gemaakt:&nbsp;</p>
<ul>
<li><p>Gebruik Digikoppeling REST-API standaard</p>
</li>
<li><p>JSON formaat voor berichten&nbsp;</p>
</li>
<li><p>Gebruik Diginetwerk voor transport&nbsp;</p>
</li>
<li><p>Gebruik PKIo certificaten&nbsp;</p>
</li>
<li><p>Gebruik JWS voor signen&nbsp;</p>
</li>
<li><p>Gebruik JWE voor encryptie&nbsp;</p>
</li>
<li><p>Beveiligingsniveau BBN2 (zou uit DPIA moeten volgen)</p>
</li>
</ul>
</section>
  <section id="beheer"><div class="header-wrapper"><h2 id="x3-beheer-van-de-specificatie"><bdi class="secno">3. </bdi>Beheer van de specificatie</h2><a class="self-link" href="#beheer" aria-label="Permalink for Section 3."></a></div>
<p>De koppelvlakspecificatie is onderhevig aan wijzigingen: de technologie ontwikkelt zich, er zijn mogelijk andere gegevens nodig, de samenwerking tussen de betrokken partijen kan wijzigen, etc. Om deze wijzigingen op een betrouwbare en juiste manier te verwerken in de specificatie, is een wijzigingsproces ingericht. Dit wijzigingsproces valt onder verantwoordelijkheid van de stuurgroep DDAS en wordt uitgevoerd door het programma DDAS, zolang het programma DDAS actief is. Daarna wordt het overgedragen aan een nog aan te wijzen organisatie.&nbsp;Voor het beoordelen van wijzigingsverzoeken wordt een beheeroverleg samengesteld, met afgevaardigden van de betrokken partijen, onder voorzitterschap van het programma DDAS. Dit beheeroverleg komt periodiek bijeen om wijzigingsverzoeken te beoordelen en eventueel verder uit te werken.</p>
<p>Het streven is om maximaal eenmaal per jaar een nieuw release van de koppelvlakspecificatie uit te brengen.</p>
<section id="indienen-wijzigingsverzoek"><div class="header-wrapper"><h3 id="x3-1-indienen-wijzigingsverzoek"><bdi class="secno">3.1 </bdi>Indienen wijzigingsverzoek</h3><a class="self-link" href="#indienen-wijzigingsverzoek" aria-label="Permalink for Section 3.1"></a></div>
<p>Wijzigingsverzoeken worden verzameld via [nog in te vullen]. Alle betrokken partijen mogen wijzigingsverzoeken indienen. Er is geen template voor het indienen van een wijzigingsverzoek, maar het verzoek moet in elk geval de volgende informatie bevatten:&nbsp;</p>
<ul>
<li><p>Indiener (inclusief contactgegevens)&nbsp;</p>
</li>
<li><p>Datum indienen&nbsp;</p>
</li>
<li><p>Beschrijving gewenste wijziging (bondig, maar voldoende specifiek om in te kunnen schatten wat de impact is)&nbsp;</p>
</li>
<li><p>Onderbouwing/ aanleiding gewenste wijziging&nbsp;</p>
</li>
<li><p>Prioriteit volgens de indiener (hoe snel moet de wijziging doorgevoerd worden)</p>
</li>
</ul>
<p>&nbsp;</p>
<p>Als het aantal wijzigingsverzoeken groot wordt of de afhandeling daarvan complex, dan wordt een systeem gebruikt om een en ander in te administreren.&nbsp;</p>
<p>Dit systeem moet zo openbaar mogelijk zijn, om zo transparant mogelijk te zijn over de afhandeling van verzoeken en om te voorkomen dat dezelfde wijzigingsverzoeken meerdere malen ingediend worden.</p>
</section><section id="afhandelen-wijzigingsverzoek"><div class="header-wrapper"><h3 id="x3-2-afhandelen-wijzigingsverzoek"><bdi class="secno">3.2 </bdi>Afhandelen wijzigingsverzoek</h3><a class="self-link" href="#afhandelen-wijzigingsverzoek" aria-label="Permalink for Section 3.2"></a></div>
<p>Het wijzigingsverzoek wordt door het programma DDAS geanalyseerd, waarbij vastgesteld wordt welke onderdelen van de specificatie geraakt worden en wat de geschatte impact is op de specificatie, de techniek, de processen en de betrokken partijen. Tevens wordt ingeschat wat de randvoorwaarden, kosten en doorlooptijd van de gewenste wijziging zouden zijn. Dit leidt tot een voorstel voor de verdere afhandeling: of, hoe en wanneer dit wijzigingsverzoek doorgevoerd wordt.&nbsp;</p>
<p>Het wijzigingsverzoek met de analyse van het programma DDAS worden besproken in het (nog in te richten) beheeroverleg DDAS. Als alle betrokken partijen akkoord gaan met de voorgestelde afhandeling, wordt deze afhandeling gevolgd (d.w.z. inplannen voor een release, via noodprocedure eerder doorvoeren, of afwijzen van het verzoek).&nbsp;</p>
</section><section id="releaseproces"><div class="header-wrapper"><h3 id="x3-3-releaseproces"><bdi class="secno">3.3 </bdi>Releaseproces</h3><a class="self-link" href="#releaseproces" aria-label="Permalink for Section 3.3"></a></div>
<p>Wijzigingen die doorgevoerd moeten worden, worden zoveel mogelijk via een release in productie gebracht. Het streven is om maximaal eenmaal per jaar een release door te voeren. De stappen die hiervoor doorlopen worden zijn:</p>
<ul>
<li><p>Vaststellen scope van de release door de stuurgroep DDAS, op basis van advies van beheeroverleg [6 maanden voor productiedatum]</p>
</li>
<li><p>Publiceren aangepaste specificatie door programma DDAS [5 maanden voor productiedatum]</p>
</li>
<li><p>Doorvoeren noodzakelijke wijzigingen in de testomgeving door deelnemers (gegevensleveranciers en CBS) [tot 1 maand voor productiedatum]</p>
</li>
<li><p>Testen nieuwe release in testomgeving [in laatste maand voor productiedatum]</p>
</li>
<li><p>Livegang nieuwe release</p>
</li>
</ul>
</section><section id="releasenummering"><div class="header-wrapper"><h3 id="x3-4-releasenummering"><bdi class="secno">3.4 </bdi>Releasenummering</h3><a class="self-link" href="#releasenummering" aria-label="Permalink for Section 3.4"></a></div>
<p>Ieder release wordt aangeduid met een releasenummer. Deze krijgt de vorm X.Y, waarbij X het "major" nummer is en Y het "minor" nummer. Voor testreleases kan een derde nummer toegevoegd worden; het zogenaamde "patch" nummer. In de productieomgeving wordt geen patch nummer gebruikt.</p>
<p>Als een release via het reguliere releaseproces naar productie gaat, dan krijgt deze een nieuw major nummer en het minor nummer 0 (bv. "1.0"). Als er via de noodprocedure een release doorgevoerd wordt, dan blijft het major nummer hetzelfde, maar wordt het minor nummer opgehoogd (bv. "1.1").</p>
</section><section id="vrijgaveprocedure-en-afwijkingsverzoeken"><div class="header-wrapper"><h3 id="x3-5-vrijgaveprocedure-en-afwijkingsverzoeken"><bdi class="secno">3.5 </bdi>Vrijgaveprocedure en afwijkingsverzoeken</h3><a class="self-link" href="#vrijgaveprocedure-en-afwijkingsverzoeken" aria-label="Permalink for Section 3.5"></a></div>
<p>Er is geen "vrijgave" van deelnemers voor een release nodig. Als de specificatie complexer wordt kan de stuurgroep DDAS besluiten om een vrijgaveprocedure in te richten. De deelnemer moet dan aan de hand van een set testscenario's aantonen te voldoen aan de nieuwe specificaties. Als dit succesvol is, dan krijgt de deelnemer vrijgave voor de nieuwe release. Als dit niet succesvol is, dan kan de deelnemer een afwijkingsverzoek indienen bij het programma DDAS en toch gegevens blijven aanbieden. Een afwijkingsverzoek wordt alleen geaccepteerd als dit de rapporten van CBS niet compromitteert. In het afwijkingsverzoek wordt altijd aangegeven hoe lang de afwijking geldig mag blijven.</p>
</section><section id="noodprocedure"><div class="header-wrapper"><h3 id="x3-6-noodprocedure"><bdi class="secno">3.6 </bdi>Noodprocedure</h3><a class="self-link" href="#noodprocedure" aria-label="Permalink for Section 3.6"></a></div>
<p>Het kan gebeuren dat een wijziging niet kan wachten op een gepland release, maar sneller doorgevoerd moet worden. De stuurgoep DDAS kan dan op advies van het beheeroverleg, een noodprocedure aanroepen.</p>
<p>Het beheeroverleg adviseert de stuurgroep welke stappen genomen moeten worden en in welk tempo deze doorlopen moeten worden. Als de stuurgroep hiermee akkoord gaat, voert het programma DDAS de regie op de uitvoering van de stappen.</p>
<p>De release die hiermee ontstaat krijgt geen nieuw "major" versienummer, maar een nieuw "minor" nummer (zie ook "releasenummering").</p>
</section><section id="escalatie"><div class="header-wrapper"><h3 id="x3-7-escalatie"><bdi class="secno">3.7 </bdi>Escalatie</h3><a class="self-link" href="#escalatie" aria-label="Permalink for Section 3.7"></a></div>
<p>Als de partijen het niet eens worden, wordt het verzoek geëscaleerd naar de stuurgroep DDAS. Als het behandelen van het verzoek niet kan wachten tot het eerstvolgende overleg van de stuurgroep, worden de stuurgroepleden schriftelijk om hun oordeel gevraagd.</p>
</section></section>
  <section id="tech"><div class="header-wrapper"><h2 id="x4-transportlaag"><bdi class="secno">4. </bdi>Transportlaag</h2><a class="self-link" href="#tech" aria-label="Permalink for Section 4."></a></div>
<p>Hoe ziet de technische uitwisseling van berichten eruit.&nbsp;</p>
<p>Vragen:&nbsp;</p>
<ul>
<li><p>Gebruik van Diginetwerk? Kunnen alle organisaties die gegevens gaan leveren hierop aansluiten?&nbsp;Wordt waarschijnlijk niet mogelijk... Dan via “open” internet: vereist mogelijk extra maatregelen, zoals versleuteling van de gegevens. Dit hangt af van de DPIA.&nbsp;</p>
</li>
<li><p>Dubbelzijdig TLS (wordt voorgeschreven in Digikoppeling en FSC standaard)&nbsp;NB: Dit vereist een certificaat dat door alle betrokken partijen vertrouwd wordt.&nbsp;</p>
</li>
<li><p>Gebruik van PKIo certificaten voor authenticatie op basis van het <a href="https://gitdocumentatie.logius.nl/publicatie/api/oauth/">Nederlandse profiel van OAuth</a>?&nbsp;Het is de vraag of alle partijen een PKIo certificaat mogen aanvragen. Als dit niet mogelijk is, moet een “trust anchor” gevonden worden: de autoriteit die certificaten kan uitgeven, die door alle betrokken partijen vertrouwd worden.</p>
</li>
</ul>
<p>&nbsp;</p>
<section id="identificatie-authenticatie-en-autorisatie"><div class="header-wrapper"><h3 id="x4-1-identificatie-authenticatie-en-autorisatie"><bdi class="secno">4.1 </bdi>Identificatie, Authenticatie en Autorisatie</h3><a class="self-link" href="#identificatie-authenticatie-en-autorisatie" aria-label="Permalink for Section 4.1"></a></div>
<p>Hoe worden de schuldhulpverleners (gegevensleveranciers) geïdentificeerd? (o.b.v. (sub)OIN?) Als niet alle betrokken partijen een (sub)OIN kunnen krijgen, moet een systematiek gevonden worden om alle partijen uniek te kunnen identificeren.&nbsp;</p>
<p>Hoe worden systemen geauthenticeerd? (obv PKIo certificaten? Als dat niet kan: wie wordt de “Trust Anchor” – de autoriteit die door alle partijen vertrouwd wordt?)&nbsp;</p>
<p>Autorisatie lijkt niet heel spannend: er zal waarschijnlijk maar één service komen met een vaste set gegevens, waar maar één partij (CBS) toegang toe zal krijgen. Als fijnmaziger autorisatie nodig is, dan bestaat er een voorkeur voor PBAC (Policy Base Authorisation Control). De autorisatie wordt dan bepaald op basis van beleidsregels, zoals “organisatie X krijgt toegang tot gegeven G als de organisatie overeenkomst O getekend heeft en het gegeven is vrijgegeven door autoriteit A”. Dan is de vraag wie deze beleidsregels vaststelt en wie ze beheert.&nbsp;</p>
</section><section id="signing-en-versleuteling"><div class="header-wrapper"><h3 id="x4-2-signing-en-versleuteling"><bdi class="secno">4.2 </bdi>Signing en Versleuteling</h3><a class="self-link" href="#signing-en-versleuteling" aria-label="Permalink for Section 4.2"></a></div>
<p>NB: De Digikoppeling standaard voor REST-API heeft (nog) geen standaard voor signing en encryptie vastgesteld. Daarom voorstel om JWT te gebruiken en dus eerst een JWT aan te vragen, die daarna bij het request wordt meegestuurd. Eventueel kunnen hierbij protocollen van de FSC standaard toegepast worden.&nbsp;</p>
<section id="signing"><div class="header-wrapper"><h4 id="x4-2-1-signing"><bdi class="secno">4.2.1 </bdi>Signing</h4><a class="self-link" href="#signing" aria-label="Permalink for Section 4.2.1"></a></div>
<p>Voorstel: Signing op basis van JWS in een JWT conform de <a href="https://commonground.gitlab.io/standards/fsc/core/draft-fsc-core-00.html#signatures">FSC standaard</a>.&nbsp;</p>
</section><section id="versleuteling-encryptie"><div class="header-wrapper"><h4 id="x4-2-2-versleuteling-encryptie"><bdi class="secno">4.2.2 </bdi>Versleuteling (Encryptie)</h4><a class="self-link" href="#versleuteling-encryptie" aria-label="Permalink for Section 4.2.2"></a></div>
<p>Is versleuteling nodig? (zou uit DPIA moeten komen – ik vermoed dat het nodig is)&nbsp;</p>
<p>Voorstel: Versleuteling op basis van JWE in een JWT met PKIo certificaten. NB: ook hier geldt dat als niet alle betrokken partijen PKIo certificaten kunnen aanvragen, er een Trust Anchor nodig is die vertrouwde certificaten kan uitgeven.&nbsp;</p>
</section></section><section id="vraagbericht-request"><div class="header-wrapper"><h3 id="x4-3-vraagbericht-request"><bdi class="secno">4.3 </bdi>Vraagbericht (request)</h3><a class="self-link" href="#vraagbericht-request" aria-label="Permalink for Section 4.3"></a></div>
<p>Request zoals dat door CBS naar de schuldhulpverlener gestuurd wordt. Alleen een GET&nbsp; en/ of POST request: alleen opvragen gegevens, geen mutaties. Bij GET zitten de parameters in de URL, waardoor mogelijk cache gegevens gebruikt worden, als de parameters niet wijzigen.&nbsp;</p>
<p>NB: Met een JWT voor authenticatie, signen en versleutelen (als versleutelen nodig is – met een BSN in het bericht zou dat waarschijnlijk moeten). Mogelijk kan dit afgevangen worden door het FSC-concept van inward- en outward-services?&nbsp;</p>
<p>Voorstel voor parameters die meegestuurd kunnen worden (allemaal optioneel):&nbsp;</p>
<ul>
<li><p>Startdatum (default vandaag)&nbsp;</p>
</li>
<li><p>Einddatum (default vandaag)&nbsp;</p>
</li>
<li><p>Gemeente (default alle – alleen relevant als over meer dan 1 gemeente gegevens aangeleverd worden)&nbsp;</p>
</li>
<li><p>BSN? (of ander gegeven waarmee een inwoner geïdentificeerd kan worden – default alle)&nbsp;</p>
</li>
<li><p>SHV-traject? (default alle)</p>
</li>
</ul>
<p>&nbsp;</p>
<p>Technische uitwerking in OAS3 (YAML/ JSON bestand op Github?)&nbsp;</p>
</section><section id="antwoordbericht-response"><div class="header-wrapper"><h3 id="x4-4-antwoordbericht-response"><bdi class="secno">4.4 </bdi>Antwoordbericht (response)</h3><a class="self-link" href="#antwoordbericht-response" aria-label="Permalink for Section 4.4"></a></div>
<p>Response van de schuldhulpverlener met de gewenste gegevens in JSON formaat.&nbsp;</p>
<p>Als versleutelen nodig is, in een JWE vorm (eventueel gezipt, versleuteld in een token).&nbsp;</p>
<p>Payload zoals gedefinieerd door Arjen!&nbsp;</p>
<p>Responses: opnemen in OAS3 beschrijving. Bv:&nbsp;</p>
<ul>
<li><p>200: bericht goed verwerkt (met payload)&nbsp;</p>
</li>
<li><p>Welke foutberichten? (FSC standaard volgen?)</p>
</li>
</ul>
<p>&nbsp;</p>
</section><section id="niet-functionele-eisen"><div class="header-wrapper"><h3 id="x4-5-niet-functionele-eisen"><bdi class="secno">4.5 </bdi>Niet functionele eisen</h3><a class="self-link" href="#niet-functionele-eisen" aria-label="Permalink for Section 4.5"></a></div>
<section id="beschikbaarheid"><div class="header-wrapper"><h4 id="x4-5-1-beschikbaarheid"><bdi class="secno">4.5.1 </bdi>Beschikbaarheid</h4><a class="self-link" href="#beschikbaarheid" aria-label="Permalink for Section 4.5.1"></a></div>
<p>Niet kritische toepassing: geen hoge beschikbaarheid vereist.&nbsp;</p>
<p>Afstemmen met CBS: wanneer willen zij gegevens verzamelen? Dan zou de beschikbaarheid wat hoger moeten zijn. BV: tijdens kantooruren&nbsp;&nbsp;</p>
</section><section id="performance"><div class="header-wrapper"><h4 id="x4-5-2-performance"><bdi class="secno">4.5.2 </bdi>Performance</h4><a class="self-link" href="#performance" aria-label="Permalink for Section 4.5.2"></a></div>
<p>Geen afhankelijkheden in het primaire proces: geen hoge performance vereist.&nbsp;</p>
<p>Wordt gebruik van cache toegestaan (volgens mij moet dat kunnen)? Onder welke voorwaarden?&nbsp;</p>
</section><section id="monitoring"><div class="header-wrapper"><h4 id="x4-5-3-monitoring"><bdi class="secno">4.5.3 </bdi>Monitoring</h4><a class="self-link" href="#monitoring" aria-label="Permalink for Section 4.5.3"></a></div>
<p>Verantwoordelijkheid voor monitoring ligt bij partij die verantwoording hierover moet afleggen. Welke verantwoording verwacht het programma of SZW?&nbsp;</p>
<p>Voor gemeenten (suggestie):&nbsp;</p>
<ul>
<li><p>Aantal bevragingen naar datum en afzender (altijd CBS?)&nbsp;</p>
</li>
<li><p>Aantal en soort foute bevragingen&nbsp;</p>
</li>
<li><p>Aantal en soort meegestuurde parameters</p>
</li>
</ul>
<p>&nbsp;</p>
<p>Voor CBS:&nbsp;</p>
<ul>
<li><p>Aantal bevragingen naar datum en schuldhulpverlener&nbsp;</p>
</li>
<li><p>Aantal en soort responses</p>
</li>
</ul>
</section></section></section>
  <section id="non-func"><div class="header-wrapper"><h2 id="x5-niet-functionele-eisen"><bdi class="secno">5. </bdi>Niet functionele eisen</h2><a class="self-link" href="#non-func" aria-label="Permalink for Section 5."></a></div>
<section id="beschikbaarheid-0"><div class="header-wrapper"><h3 id="x5-1-beschikbaarheid"><bdi class="secno">5.1 </bdi>Beschikbaarheid</h3><a class="self-link" href="#beschikbaarheid-0" aria-label="Permalink for Section 5.1"></a></div>
<p>Niet kritische toepassing: geen hoge beschikbaarheid vereist.&nbsp;</p>
<p>Afstemmen met CBS: wanneer willen zij gegevens verzamelen? Dan zou de beschikbaarheid wat hoger moeten zijn. BV: tijdens kantooruren&nbsp;&nbsp;</p>
</section><section id="performance-0"><div class="header-wrapper"><h3 id="x5-2-performance"><bdi class="secno">5.2 </bdi>Performance</h3><a class="self-link" href="#performance-0" aria-label="Permalink for Section 5.2"></a></div>
<p>Geen afhankelijkheden in het primaire proces: geen hoge performance vereist.&nbsp;</p>
<p>Wordt gebruik van cache toegestaan (volgens mij moet dat kunnen)? Onder welke voorwaarden?&nbsp;</p>
</section><section id="monitoring-0"><div class="header-wrapper"><h3 id="x5-3-monitoring"><bdi class="secno">5.3 </bdi>Monitoring</h3><a class="self-link" href="#monitoring-0" aria-label="Permalink for Section 5.3"></a></div>
<p>Verantwoordelijkheid voor monitoring ligt bij partij die verantwoording hierover moet afleggen. Welke verantwoording verwacht het programma of SZW?&nbsp;</p>
<p>Voor gemeenten (suggestie):&nbsp;</p>
<ul>
<li><p>Aantal bevragingen naar datum en afzender (altijd CBS?)&nbsp;</p>
</li>
<li><p>Aantal en soort foute bevragingen&nbsp;</p>
</li>
<li><p>Aantal en soort meegestuurde parameters</p>
</li>
</ul>
<p>&nbsp;</p>
<p>Voor CBS:&nbsp;</p>
<ul>
<li><p>Aantal bevragingen naar datum en schuldhulpverlener&nbsp;</p>
</li>
<li><p>Aantal en soort responses</p>
</li>
</ul>
</section></section>
  <section id="aanlever"><div class="header-wrapper"><h2 id="x6-aanleverprotocol"><bdi class="secno">6. </bdi>Aanleverprotocol</h2><a class="self-link" href="#aanlever" aria-label="Permalink for Section 6."></a></div>
<p>Stappen bij het aanleveren van gegevens:&nbsp;</p>
<ul>
<li><p>CBS roept systeem van schuldhulpverlener (gegevensleverancier) aan om JWT voor signing en encryptie te krijgen&nbsp;</p>
</li>
<li><p>CBS roept API van de gegevensleverancier aan (eventueel met parameters)&nbsp;</p>
</li>
<li><p>CBS controleert response technisch (signing, viruscontrole, berichtformaat)&nbsp;</p>
</li>
<li><p>CBS controleert response functioneel (verplichte velden, vreemde waarden, etc.)</p>
</li>
<li><p>CBS stuurt een verwerkingsverslag naar de gegevensleverancier</p>
</li>
<li><p>Indien OK, dan worden de gegevens ingelezen in de database&nbsp;</p>
</li>
<li><p>CBS loopt alle gerapporteerde trajecten af en combineert trajecten van dezelfde BSN tot één “traject”&nbsp;</p>
</li>
<li><p>Bij het combineren wordt de volledigheid en kwaliteit van de gegevens gecontroleerd – op basis daarvan krijgt het traject een "betrouwbaarheidsindicator""&nbsp;</p>
</li>
<li><p>CBS genereert de gewenste rapporten</p>
</li>
</ul>
<p>&nbsp;</p>
<p>NB: Als er bij deze stappen algoritmen gebruikt worden, moeten deze voldoen aan de Europese AI-verordening (definitieve tekst nog niet gevonden) en aangemeld worden bij het <a href="https://algoritmes.overheid.nl/nl">Algoritmeregister van de Nederlandse overheid</a>.</p>
</section>
  <section id="aansluit"><div class="header-wrapper"><h2 id="x7-aansluitprotocol"><bdi class="secno">7. </bdi>Aansluitprotocol</h2><a class="self-link" href="#aansluit" aria-label="Permalink for Section 7."></a></div>
<p>Iedere schuldhulpverleningsorganisatie of gemeente (hierna: "deelnemer") die gegevens beschikbaar gaat stellen aan CBS, moet het aansluitprotocol doorlopen. Dit protocol valt onder verantwoordelijkheid van het programma DDAS. Voor vragen hierover kan altijd contact opgenomen worden met [contactadres].</p>
<p>Het protocol kan aangepast worden als hiervoor aanleiding is. Na aanpassingen wordt de meest recente versie met versienummer en versiedatum gepubliceerd op [documentatiewebsite].</p>
<p>De stappen die de deelnemer moet doorlopen, zijn:</p>
<ul>
<li><p>De deelnemer meldt zich bij de stelselbeheerder (CBS of DDAS?) via het aanmeldformulier [waar staat dit? wie beheert dit?], waarin in elk geval het volgende ingevuld:</p>
<ul>
<li><p>Naam van de deelnemer + contactgegevens</p>
</li>
<li><p>Naam van de gegevensleverancier + contactgegevens</p>
</li>
<li><p>Endpoint waar de productiegegevens beschikbaar komen</p>
</li>
<li><p>Endpoint waar de testgegevens beschikbaar komen</p>
</li>
<li><p>Akkoord met de aansluitvoorwaarden, waaronder de verwerkersovereenkomst met CBS</p>
</li>
<li><p>Eventuele verzoeken om de aansluiting tot stand te krijgen, zoals een gewenste publicatiedatum, specifieke testdata of specifieke beschikbaarheid</p>
</li>
</ul>
</li>
<li><p><em>Indien PKIo certificaten niet mogelijk zijn: de stelselbeheerder (DDAS of CBS?) genereert een certificaat voor de TLS verbinding, signing en encryptie, en levert deze aan de deelnemer.</em></p>
</li>
<li><p>De deelnemer richt in de testomgeving de API, conform de AOS documentatie [yaml-bestand, nog toe te voegen] in. Voor de installatie van FSC komt een handleiding en een referentie implementatie beschikbaar.</p>
</li>
<li><p>De deelnemer voert CBS op in de management module van FSC, om toegang te verlenen.</p>
</li>
<li><p>CBS voert enkele bevragingen uit in de testomgeving en beoordeelt de kwaliteit van de gegevens. Op basis van de bevindingen wordt de API aangepast.</p>
</li>
<li><p>Indien er geen blokkerende bevindingen zijn, krijgt de deelnemer vrijgave van de stelselbeheer (DDAS of CBS?) en wordt de API in de productieomgeving ingericht en beschikbaar gesteld.</p>
</li>
<li></li>
<li><p>CBS voert de deelnemer op in de management module van FSC, zodat de API bevraagd wordt bij het ophalen van alle gegevens.</p>
</li>
</ul>
<p>Ten behoeve van de testen stelt DDAS een set testgegevens beschikbaar [wie maakt deze set? waar komt dit te staan?].</p>
<p>Voor ondersteuning bij de aansluiting is een referentie implementatie en documentatie beschikbaar [waar?] en kan contact opgenomen worden met [contactadres]. Als er bij de aansluiting bevindingen zijn, die niet door de deelnemer opgelost kunnen worden, kan een wijzigingsverzoek ingediend worden.</p>
</section>
  <script>
    let content = "";

    const getClass = function(key) {
      if (respecConfig.content[key]!==""){return <code> class="${respecConfig.content[key]}"</code>}
    }

    for (let contentKey in respecConfig.content) {
      content += <code>&lt;section data-include-format="markdown" data-include="${contentKey}.md" ${getClass(contentKey)||""}&gt;&lt;/section&gt;</code>
    }

    document.getElementById("probl").insertAdjacentHTML('afterend', content);
  </script>
  <section id="conformance"><div class="header-wrapper"><h2 id="x8-conformiteit"><bdi class="secno">8. </bdi>Conformiteit</h2><a class="self-link" href="#conformance" aria-label="Permalink for Section 8."></a></div><p>Naast onderdelen die als niet normatief gemarkeerd zijn, zijn ook alle diagrammen, voorbeelden, en noten in dit document niet normatief. Verder is alles in dit document normatief.</p></section>
  <section id="tof"></section>
  <section id="index" class="appendix"><div class="header-wrapper"><h2 id="a-index"><bdi class="secno">A. </bdi>Index</h2><a class="self-link" href="#index" aria-label="Permalink for Appendix A."></a></div><section id="index-defined-here">
    <div class="header-wrapper"><h3 id="a-1-begrippen-gedefinieerd-door-deze-specificatie"><bdi class="secno">A.1 </bdi>Begrippen gedefinieerd door deze specificatie</h3><a class="self-link" href="#index-defined-here" aria-label="Permalink for Appendix A.1"></a></div>
    <ul class="index">
    
  </ul>
  </section><section id="index-defined-elsewhere">
    <div class="header-wrapper"><h3 id="a-2-begrippen-gedefinieerd-door-verwijzing"><bdi class="secno">A.2 </bdi>Begrippen gedefinieerd door verwijzing</h3><a class="self-link" href="#index-defined-elsewhere" aria-label="Permalink for Appendix A.2"></a></div>
    <ul class="index">
    
  </ul>
  </section></section>




<p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><div class="sidelabel">VNG Realisatie undefined - undefined</div><script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script></body></html>